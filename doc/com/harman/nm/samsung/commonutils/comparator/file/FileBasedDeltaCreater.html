<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Thu Jan 19 14:25:32 IST 2017 -->
<TITLE>
FileBasedDeltaCreater
</TITLE>

<META NAME="date" CONTENT="2017-01-19">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FileBasedDeltaCreater";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FileBasedDeltaCreater.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/DeltaCreator.html" title="class in com.bt.npm.netrep.npmcommonutils.comparator.file"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/IComparator.html" title="interface in com.bt.npm.netrep.npmcommonutils.comparator.file"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FileBasedDeltaCreater.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.bt.npm.netrep.npmcommonutils.comparator.file</FONT>
<BR>
Class FileBasedDeltaCreater</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/DeltaCreator.html" title="class in com.bt.npm.netrep.npmcommonutils.comparator.file">com.bt.npm.netrep.npmcommonutils.comparator.file.DeltaCreator</A>
      <IMG SRC="../../../../../../../resources/inherit.gif" ALT="extended by "><B>com.bt.npm.netrep.npmcommonutils.comparator.file.FileBasedDeltaCreater</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/IDeltaComparator.html" title="interface in com.bt.npm.netrep.npmcommonutils.comparator.file">IDeltaComparator</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>FileBasedDeltaCreater</B><DT>extends <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/DeltaCreator.html" title="class in com.bt.npm.netrep.npmcommonutils.comparator.file">DeltaCreator</A></DL>
</PRE>

<P>
It is used to compare the records in two different files and gives the delta out of it. It assumes that one of the file is written using the <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/writer/NpmFileWriter.html" title="class in com.bt.npm.netrep.npmcommonutils.writer"><CODE>NpmFileWriter</CODE></A>
 with indexing API. The objects MUST have hashcode, equals and toString implementation.</br></b></br>
 <b>How it works!!</b></br>
 <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html" title="class in com.bt.npm.netrep.npmcommonutils.comparator.file"><CODE>FileBasedDeltaCreater</CODE></A> accepts a <CODE>List</CODE> of records in <b>createDeltaFromList(list, boolean)</b> method. Each and every record in the provided list is 
 looked-up in the <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/model/IndexTable.html" title="class in com.bt.npm.netrep.npmcommonutils.model"><CODE>IndexTable</CODE></A>. </br></br>
 1. if the records does not exist in the index table, then its a NEW record</br>
 2. if it exists, then based on equality decides if the records should be considered for final output</br>
 3. Left out records in the <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/model/IndexTable.html" title="class in com.bt.npm.netrep.npmcommonutils.model"><CODE>IndexTable</CODE></A> are something not received as we speak.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>608952343(AP)</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.bt.npm.netrep.npmcommonutils.comparator.file.IDeltaComparator"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface com.bt.npm.netrep.npmcommonutils.comparator.file.<A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/IDeltaComparator.html" title="interface in com.bt.npm.netrep.npmcommonutils.comparator.file">IDeltaComparator</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/IDeltaComparator.html#DEL">DEL</A>, <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/IDeltaComparator.html#IGNORE">IGNORE</A>, <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/IDeltaComparator.html#MOD">MOD</A>, <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/IDeltaComparator.html#NEW">NEW</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#FileBasedDeltaCreater(java.io.File, java.lang.String)">FileBasedDeltaCreater</A></B>(java.io.File&nbsp;indexFile,
                      java.lang.String&nbsp;keyToYesterdayValidFile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor to create the comparator backed by given index table of records</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#addCurrentChildrenIndexes(java.lang.Object, java.lang.Long)">addCurrentChildrenIndexes</A></B>(java.lang.Object&nbsp;childKey,
                          java.lang.Long&nbsp;childIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is to set the indexes of ONLY those Children records which are 
 required to be processed for the current day.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.Object,java.util.HashMap&lt;java.lang.Object,java.lang.Long&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#addParentKeyChildRecordIndex(java.lang.Object, java.lang.Object, java.lang.Long)">addParentKeyChildRecordIndex</A></B>(java.lang.Object&nbsp;parentKey,
                             java.lang.Object&nbsp;childKey,
                             java.lang.Long&nbsp;childIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adding the records which are dependent on the deletion of other records.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#addToOutputList(java.lang.String)">addToOutputList</A></B>(java.lang.String&nbsp;record)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is required as the output file writer is opened up 
 in this class and writting in parallel is not possible.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close all the underlying readers and writers</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#compare(java.lang.Object, java.lang.Object)">compare</A></B>(java.lang.Object&nbsp;todayRecord,
        java.lang.Object&nbsp;yesterdayRecord)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return  0, if its a new record 
 return  1, if the records has to be deleted from the inventory
 return  2, if the existing records has beeen modified
 return -1, if existing but no change in the record</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#createDeltaFromList(java.util.List, boolean)">createDeltaFromList</A></B>(java.util.List&lt;java.lang.Object&gt;&nbsp;list,
                    boolean&nbsp;isLastList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates the delta from the provided list of records and writes it to the final output file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#setChildrenRecordsFile(java.io.File)">setChildrenRecordsFile</A></B>(java.io.File&nbsp;file)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the file containing all records for children/dependents</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#setEOFPattern(java.lang.String)">setEOFPattern</A></B>(java.lang.String&nbsp;eof)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the end of file pattern to embeded in the output file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#setIgnorableColumns(int[])">setIgnorableColumns</A></B>(int[]&nbsp;ignoreColumns)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The columns indexes which are to be ignored while comparing two objects(Device, subelement etc.)
 while creating the MOD delta records</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#setOutputFile(java.io.File, java.lang.String)">setOutputFile</A></B>(java.io.File&nbsp;file,
              java.lang.String&nbsp;outputHeader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the final output file where all the delta records should be written</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#setParentKeyChildIndexesMapping(java.util.Map)">setParentKeyChildIndexesMapping</A></B>(java.util.Map&lt;java.lang.Object,java.util.HashMap&lt;java.lang.Object,java.lang.Long&gt;&gt;&nbsp;mapParentChildMapping)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The mapping from Parent to child has to be saved by the client api.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html#setTransTypeColumnIndex(int)">setTransTypeColumnIndex</A></B>(int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FileBasedDeltaCreater(java.io.File, java.lang.String)"><!-- --></A><H3>
FileBasedDeltaCreater</H3>
<PRE>
public <B>FileBasedDeltaCreater</B>(java.io.File&nbsp;indexFile,
                             java.lang.String&nbsp;keyToYesterdayValidFile)</PRE>
<DL>
<DD>Constructor to create the comparator backed by given index table of records
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>indexTable</CODE> - : map containing the index for a given record key<DD><CODE>keyToYesterdayValidFile</CODE> - : the key which was used to store valid file path in index table
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE>java.io.FileNotFoundException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setTransTypeColumnIndex(int)"><!-- --></A><H3>
setTransTypeColumnIndex</H3>
<PRE>
public void <B>setTransTypeColumnIndex</B>(int&nbsp;index)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setChildrenRecordsFile(java.io.File)"><!-- --></A><H3>
setChildrenRecordsFile</H3>
<PRE>
public void <B>setChildrenRecordsFile</B>(java.io.File&nbsp;file)
                            throws java.io.FileNotFoundException</PRE>
<DL>
<DD>Set the file containing all records for children/dependents
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.io.FileNotFoundException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setOutputFile(java.io.File, java.lang.String)"><!-- --></A><H3>
setOutputFile</H3>
<PRE>
public void <B>setOutputFile</B>(java.io.File&nbsp;file,
                          java.lang.String&nbsp;outputHeader)
                   throws java.io.IOException</PRE>
<DL>
<DD>Set the final output file where all the delta records should be written
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - <DD><CODE>outputHeader</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setParentKeyChildIndexesMapping(java.util.Map)"><!-- --></A><H3>
setParentKeyChildIndexesMapping</H3>
<PRE>
public void <B>setParentKeyChildIndexesMapping</B>(java.util.Map&lt;java.lang.Object,java.util.HashMap&lt;java.lang.Object,java.lang.Long&gt;&gt;&nbsp;mapParentChildMapping)</PRE>
<DL>
<DD>The mapping from Parent to child has to be saved by the client api. So
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mapParentChildMapping</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="createDeltaFromList(java.util.List, boolean)"><!-- --></A><H3>
createDeltaFromList</H3>
<PRE>
public void <B>createDeltaFromList</B>(java.util.List&lt;java.lang.Object&gt;&nbsp;list,
                                boolean&nbsp;isLastList)</PRE>
<DL>
<DD>Creates the delta from the provided list of records and writes it to the final output file
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>list</CODE> - <DD><CODE>isLastList</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="setIgnorableColumns(int[])"><!-- --></A><H3>
setIgnorableColumns</H3>
<PRE>
public void <B>setIgnorableColumns</B>(int[]&nbsp;ignoreColumns)</PRE>
<DL>
<DD>The columns indexes which are to be ignored while comparing two objects(Device, subelement etc.)
 while creating the MOD delta records
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ignoreColumns</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="setEOFPattern(java.lang.String)"><!-- --></A><H3>
setEOFPattern</H3>
<PRE>
public void <B>setEOFPattern</B>(java.lang.String&nbsp;eof)</PRE>
<DL>
<DD>Set the end of file pattern to embeded in the output file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>eof</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="addToOutputList(java.lang.String)"><!-- --></A><H3>
addToOutputList</H3>
<PRE>
public void <B>addToOutputList</B>(java.lang.String&nbsp;record)</PRE>
<DL>
<DD>This method is required as the output file writer is opened up 
 in this class and writting in parallel is not possible.
 Eventualy this utility method will help in adding the records 
 in the output file even though it's not part of the delta
 processing logic.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>record</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="addCurrentChildrenIndexes(java.lang.Object, java.lang.Long)"><!-- --></A><H3>
addCurrentChildrenIndexes</H3>
<PRE>
public void <B>addCurrentChildrenIndexes</B>(java.lang.Object&nbsp;childKey,
                                      java.lang.Long&nbsp;childIndex)
                               throws java.lang.IllegalStateException</PRE>
<DL>
<DD>This is to set the indexes of ONLY those Children records which are 
 required to be processed for the current day. Other indexes of children
 had been already saved as part of their mapping against the 
 successor.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="compare(java.lang.Object, java.lang.Object)"><!-- --></A><H3>
compare</H3>
<PRE>
public int <B>compare</B>(java.lang.Object&nbsp;todayRecord,
                   java.lang.Object&nbsp;yesterdayRecord)</PRE>
<DL>
<DD><li>return  0, if its a new record 
 <li>return  1, if the records has to be deleted from the inventory
 <li>return  2, if the existing records has beeen modified
 <li>return -1, if existing but no change in the record
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>todayRecord</CODE> - - today's record<DD><CODE>yesterdayRecord</CODE> - - yesterday's record
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()</PRE>
<DL>
<DD>Close all the underlying readers and writers
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addParentKeyChildRecordIndex(java.lang.Object, java.lang.Object, java.lang.Long)"><!-- --></A><H3>
addParentKeyChildRecordIndex</H3>
<PRE>
public java.util.Map&lt;java.lang.Object,java.util.HashMap&lt;java.lang.Object,java.lang.Long&gt;&gt; <B>addParentKeyChildRecordIndex</B>(java.lang.Object&nbsp;parentKey,
                                                                                                                       java.lang.Object&nbsp;childKey,
                                                                                                                       java.lang.Long&nbsp;childIndex)</PRE>
<DL>
<DD>Adding the records which are dependent on the deletion of other records. 
 This will be used by the client which knows the relationship between the parent-child keys.
 <A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html" title="class in com.bt.npm.netrep.npmcommonutils.comparator.file"><CODE>FileBasedDeltaCreater</CODE></A> will be using it for deleting the children in case the parent 
 is marked as deleted and <b>reporting the left out children records in the output file as it 
 is(no change in transtype)</b>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>parentKey</CODE> - <DD><CODE>childKey</CODE> - <DD><CODE>childIndex</CODE> - 
<DT><B>Returns:</B><DD>handle to the parent-child mapping tree</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FileBasedDeltaCreater.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/DeltaCreator.html" title="class in com.bt.npm.netrep.npmcommonutils.comparator.file"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../../com/bt/npm/netrep/npmcommonutils/comparator/file/IComparator.html" title="interface in com.bt.npm.netrep.npmcommonutils.comparator.file"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../../index.html?com/bt/npm/netrep/npmcommonutils/comparator/file/FileBasedDeltaCreater.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FileBasedDeltaCreater.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
